---
title: "README"
author: "Alejandra Martinez"
date: "`r format(Sys.Date(), '%d %B, %Y')`"
output:
  md_document:
    variant: markdown_github
---

In this package, a robust estimation and variable selection procedure
for partially linear additive models is performed using the real dataset
from nutritional epidemiology.


Let's begin by reading the data.
```{r data, results='hide', cache=FALSE, results=FALSE, warning=FALSE, comment=FALSE, message=FALSE}
datos <- read.table("Plasma_Retinol.txt", sep="\t")
str(datos)
```

Since a robust approach will be applied, we standarizing the continuos covariates
robustly.

```{r covariates, results='hide', cache=FALSE, results=FALSE, warning=FALSE, comment=FALSE, message=FALSE}
age <- (datos$V1 - median(datos$V1))/mad(datos$V1)
sex <- datos$V2-1
smokstat <- datos$V3
smok1 <- as.numeric(datos$V3==2)
smok2 <- as.numeric(datos$V3==3)
quetelet <- (datos$V4 - median(datos$V4))/mad(datos$V4)
vituse <- datos$V5
vit1 <- as.numeric(datos$V5==1)
vit2 <- as.numeric(datos$V5==2)
calories <- (datos$V6 - median(datos$V6))/mad(datos$V6)
fat <- (datos$V7-median(datos$V7))/mad(datos$V7)
fiber <- (datos$V8-median(datos$V8))/mad(datos$V8)
alcohol <- (datos$V9-median(datos$V9))/mad(datos$V9)
cholesterol <- (datos$V10-median(datos$V10))/mad(datos$V10)
betadiet <- (datos$V11-median(datos$V11))/mad(datos$V11)
retdiet <- (datos$V12-median(datos$V12))/mad(datos$V12)
retplasma <- (datos$V14-median(datos$V14))/mad(datos$V14)
Z <- cbind(sex,smok1,smok2,quetelet,vit1,vit2,calories,
           fat,alcohol,betadiet)
X <- cbind(age,cholesterol,fiber)
```

And also the response variable.
```{r response, results='hide', cache=FALSE, results=FALSE, warning=FALSE, comment=FALSE, message=FALSE}
betaplasma <- (datos$V13-median(datos$V13))/mad(datos$V13)
y <- betaplasma
```

In order to see the one-by-one relationship, we can do a scatter plot.
```{r scatter, echo=FALSE,warning=FALSE}
pairs(datos)
```

It can be appreciated an extreme outlier in 'alcohol'.
```{r alcohol, echo=FALSE,warning=FALSE}
boxplot(alcohol)
```

